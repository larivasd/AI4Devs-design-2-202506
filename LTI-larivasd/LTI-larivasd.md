LTI: El ATS del Futuro

### Descripción Breve del Software LTI

LTI está desarrollando un Applicant Tracking System (ATS) de próxima generación diseñado para revolucionar la forma en que las empresas gestionan sus procesos de contratación. Nuestro software no es simplemente una herramienta de seguimiento de candidatos, sino una plataforma inteligente e integrada que potencia a los departamentos de Recursos Humanos, optimiza la colaboración y acelera la adquisición de talento.

Valor Añadido y Ventajas Competitivas

El valor añadido de LTI reside en su enfoque holístico y en la incorporación de tecnologías avanzadas para resolver los puntos de dolor actuales en la contratación. Nuestras principales ventajas competitivas incluyen:

- **Eficiencia Sin Precedentes para RRHH:** Automatizamos tareas repetitivas como el filtrado de CV, la programación de entrevistas y la comunicación con candidatos, liberando tiempo valioso para que los equipos de RRHH se centren en decisiones estratégicas y la experiencia del candidato.

- **Colaboración en Tiempo Real Mejorada:** Proporcionamos un espacio centralizado y dinámico donde reclutadores, managers de contratación y otras partes interesadas pueden colaborar sin fricciones. Comentarios, calificaciones y decisiones se comparten instantáneamente, eliminando silos de información y acelerando los ciclos de contratación.

- **Automatización Inteligente:** Desde el cribado inicial de solicitudes hasta la generación de ofertas personalizadas, LTI integra flujos de trabajo automatizados configurables que se adaptan a las necesidades específicas de cada empresa, reduciendo errores y garantizando la coherencia.

- **Asistencia de IA de Vanguardia:** Nuestra IA asiste en diversas tareas, incluyendo:
    - Análisis Predictivo: Predecir el éxito de los candidatos basándose en datos históricos.
    - Recomendación de Candidatos: Sugerir los perfiles más adecuados para una vacante basándose en habilidades, experiencia y ajuste cultural.
    - Personalización de Comunicación: Generar comunicaciones adaptadas a cada candidato, mejorando la experiencia y el engagement.
    - Detección de Sesgos: Identificar y mitigar posibles sesgos en los procesos de selección para promover una contratación más justa y diversa.

Funciones Principales

Las funciones principales de LTI abarcarán todo el ciclo de vida del reclutamiento:

- **Gestión de Vacantes:** Creación, publicación y seguimiento centralizado de todas las ofertas de empleo en diversas plataformas.

- **Recepción y Gestión de Solicitudes:** Un portal intuitivo para que los candidatos apliquen y un sistema robusto para organizar, filtrar y categorizar las solicitudes recibidas.

- **Cribado Inteligente de CVs:** Utilización de IA para analizar y clasificar currículums, identificando los candidatos más relevantes según los criterios de la vacante.

- **Programación y Gestión de Entrevistas:** Herramientas automatizadas para coordinar horarios de entrevistas, enviar invitaciones y recordatorios a candidatos y entrevistadores.

- **Evaluaciones Online:** Integración con plataformas de pruebas psicométricas y técnicas para evaluar habilidades y aptitudes.

- **Gestión de Candidatos:** Un CRM de candidatos completo para seguir el progreso de cada aplicante, registrar interacciones y feedback.

- **Colaboración en Equipo:** Funcionalidades para que reclutadores y managers compartan notas, califiquen candidatos, discutan perfiles y tomen decisiones conjuntas.

- **Automatización de Flujos de Trabajo:** Configuración de reglas para automatizar pasos del proceso, como mover candidatos entre etapas o enviar comunicaciones.

- **Reportes y Analíticas:** Paneles de control interactivos con métricas clave de reclutamiento (tiempo de contratación, costo por contratación, fuentes de candidatos, diversidad, etc.).

- **Integraciones:** Con plataformas de videollamadas, sistemas HRIS, bolsas de empleo populares y redes sociales.

### Diagrama Mermaid:

graph TD
    subgraph LTI - ATS del Futuro: Lean Canvas
        Problema["**1. Problema**
        - Bajos índices de eficiencia HR
        - Falta de colaboración en tiempo real
        - Procesos manuales y repetitivos
        - Sesgos inconscientes en contratación"]

        Solucion["**2. Solución**
        - Automatización inteligente del reclutamiento
        - Plataforma colaborativa centralizada
        - Asistencia IA para cribado y recomendación
        - Analíticas predictivas y mitigación de sesgos"]

        MetricasClave["**3. Métricas Clave**
        - Tiempo medio de contratación (TTF)
        - Costo por contratación (CPC)
        - % de automatización del proceso
        - Calidad de los candidatos contratados
        - Satisfacción de reclutadores y managers"]

        PropuestaValorUnica["**4. Propuesta de Valor Única**
        - Plataforma ATS inteligente y predictiva
        - Colaboración en tiempo real sin fricciones
        - Reducción drástica del TTF y CPC
        - Mejora de la diversidad e inclusión en contratación"]

        VentajaInjusta["**5. Ventaja Injusta**
        - Equipo multidisciplinar en IA y RRHH
        - Algoritmos de IA propietarios y en evolución
        - Red de early adopters y partnerships estratégicos
        - Foco exclusivo en innovación de ATS"]

        Canales["**6. Canales**
        - Ventas directas (demos, consultoría)
        - Marketing de contenidos (blog, webinars)
        - Partnerships con consultoras HR
        - Ferias y eventos de tecnología/HR
        - Referrals y boca a boca"]

        SegmentosClientes["**7. Segmentos de Clientes**
        - Startups en crecimiento (50-500 empleados)
        - Pymes con alto volumen de contratación
        - Departamentos de RRHH innovadores
        - Empresas de tecnología y consultoría"]

        EstructuraCostos["**8. Estructura de Costos**
        - Desarrollo de software (salarios equipo dev)
        - Marketing y Ventas
        - Infraestructura en la nube (AWS/Azure/GCP)
        - Investigación y Desarrollo (IA)
        - Soporte al cliente"]

        FuentesIngresos["**9. Fuentes de Ingresos**
        - Suscripciones mensuales/anuales (SaaS)
        - Planes escalonados (según uso/nº empleados)
        - Add-ons premium (integraciones avanzadas, IA personalizada)"]

        Problema --> Solucion
        Solucion --> MetricasClave
        MetricasClave --> PropuestaValorUnica
        PropuestaValorUnica --> VentajaInjusta
        VentajaInjusta --> Canales
        Canales --> SegmentosClientes
        EstructuraCostos --> FuentesIngresos
        PropuestaValorUnica --> EstructuraCostos
        SegmentosClientes --> FuentesIngresos
    end

### Descripción de los 3 casos de uso principales, con el diagrama asociado a cada uno

#### Caso de Uso 1: Gestionar Oferta de Empleo

**Descripción**

Este caso de uso describe cómo un Reclutador interactúa con el sistema ATS para crear, editar, publicar o archivar ofertas de empleo. El diagrama de secuencia de alto nivel se centra en la comunicación entre el Reclutador y el Módulo de Gestión de Ofertas del sistema.

**Actores**
- Reclutador: El usuario principal que gestiona las ofertas.
- Sistema ATS (Módulo Gestión de Ofertas): El componente del sistema responsable de la lógica de negocio de las ofertas.

**Precondiciones**
- El Reclutador ha iniciado sesión en el sistema ATS.
- El Reclutador tiene los permisos necesarios para gestionar ofertas de empleo.

**Flujo de Eventos Principal (Crear/Guardar Oferta)**
1. El Reclutador solicita gestionar las ofertas de empleo.
2. El Sistema ATS (Módulo Gestión de Ofertas) carga y muestra las ofertas existentes, o una opción para crear una nueva.
3. El Reclutador introduce los detalles de una nueva oferta o modifica una existente y solicita guardar/publicar.
4. El Sistema ATS (Módulo Gestión de Ofertas) valida y procesa la información de la oferta.
5. El Sistema ATS (Módulo Gestión de Ofertas) persiste la oferta en el almacenamiento de datos.
6. El Sistema ATS (Módulo Gestión de Ofertas) confirma el éxito de la operación.
7. El Reclutador recibe la confirmación.

**Flujos de Eventos Alternativos**
- A1: Error de Validación: Si la información es inválida (paso 4), el Sistema ATS (Módulo Gestión de Ofertas) notifica al Reclutador con mensajes de error, solicitando corrección.
- A2: Eliminación de Oferta: El Reclutador solicita eliminar una oferta, el sistema la archiva/elimina tras confirmación.

**Postcondiciones**
- La oferta de empleo ha sido creada, actualizada o eliminada/archivada en el sistema.
- El estado de la oferta se ha reflejado correctamente.

**Excepciones**
- E1: Permisos Insuficientes: El sistema ATS deniega la acción si el Reclutador no tiene los permisos adecuados.
- E2: Fallo de Persistencia: Un error en la base de datos impide guardar los cambios; el sistema notifica al Reclutador.

**Diagrama de Secuencia UML (Gestionar Oferta de Empleo) - Alto Nivel**

sequenceDiagram
    actor Reclutador
    participant ATS as "Sistema ATS (Módulo Gestión de Ofertas)"
    participant DataStore as "Almacenamiento de Datos"

    Reclutador->>ATS: 1. Solicitar Gestión de Ofertas
    activate ATS
    ATS-->>Reclutador: 2. Mostrar Lista de Ofertas / Opción Crear
    Reclutador->>ATS: 3. Introducir Detalles / Solicitar Guardar/Publicar
    ATS->>ATS: 4. Validar y Procesar Oferta
    ATS->>DataStore: 5. Persistir Oferta
    activate DataStore
    DataStore-->>ATS: 6. Confirmación Persistencia
    deactivate DataStore
    ATS-->>Reclutador: 7. Confirmación Operación Exitosa
    deactivate ATS

    alt Error de Validación (A1)
        ATS--xReclutador: Mensajes de error de validación
    end
    alt Fallo de Persistencia (E2)
        DataStore--xATS: Error de Base de Datos
        ATS--xReclutador: Notificación de error al guardar
    end
    
#### Caso de Uso 2: Gestionar Candidatos (Aplicación y Seguimiento)

**Descripción**

Este caso de uso abarca cómo los candidatos aplican y cómo los Reclutadores y Managers de Contratación revisan, evalúan y avanzan a los candidatos a través del pipeline de contratación. El diagrama de secuencia de alto nivel muestra la interacción del Candidato con el Portal de Aplicación y la posterior gestión por parte del Reclutador/Manager con el Módulo de Gestión de Candidatos.

**Actores**
- Candidato: El usuario externo que aplica a una oferta.
- Portal de Aplicación: El componente público del ATS o un sitio integrado por donde el candidato envía su aplicación.
- Sistema ATS (Módulo Gestión de Candidatos): El componente del sistema que maneja los perfiles y el progreso de los candidatos.
- Sistema ATS (Módulo de Comunicación): El componente que gestiona el envío de notificaciones y correos.
- Reclutador/Manager: Los usuarios internos que gestionan a los candidatos.
- Almacenamiento de Documentos: Donde se guardan CVs y otros archivos.

**Precondiciones**
- Existe una oferta de empleo publicada.
- Los Reclutadores/Managers tienen acceso al sistema.

**Flujo de Eventos Principal (Aplicación y Revisión Inicial)**
1. El Candidato envía una aplicación a través del Portal de Aplicación.
2. Portal de Aplicación: Recibe los datos y el CV del Candidato.
3. Portal de Aplicación: Envía la aplicación al Sistema ATS (Módulo Gestión de Candidatos).
4. Sistema ATS (Módulo Gestión de Candidatos): Crea el perfil del candidato, almacena el CV y asocia la aplicación a la oferta.
5. Sistema ATS (Módulo Gestión de Candidatos): Envía una confirmación al Candidato a través del Módulo de Comunicación.
6. El Reclutador/Manager solicita ver los candidatos para una oferta.
7. Sistema ATS (Módulo Gestión de Candidatos): Proporciona la lista de candidatos.
8. El Reclutador/Manager selecciona un candidato y actualiza su estado (ej. "Preseleccionado") o añade notas.
9. Sistema ATS (Módulo Gestión de Candidatos): Actualiza el perfil del candidato.
10. Sistema ATS (Módulo Gestión de Candidatos): Activa flujos de trabajo automatizados si el cambio de estado lo requiere (ej. enviar notificación).
11. El Reclutador/Manager recibe la confirmación de la actualización.

**Flujos de Eventos Alternativos**
- A1: Rechazar Candidato: El Reclutador/Manager cambia el estado a "Rechazado", y el Sistema ATS (Módulo Comunicación) envía un correo de rechazo.
- A2: Programar Entrevista: El Reclutador/Manager cambia el estado a "Entrevista", y el Sistema ATS activa el proceso de programación de entrevista.

**Postcondiciones**
- El perfil del candidato está registrado y asociado a la oferta.
- El estado del candidato y las interacciones están actualizados.
- Las comunicaciones relevantes han sido enviadas.

**Excepciones**
- E1: Datos de Aplicación Inválidos: El Sistema ATS rechaza la aplicación si los datos son incompletos o el CV es corrupto, notificando al Candidato.
- E2: Conflicto de Actualización: Si varios usuarios intentan actualizar el mismo candidato, el sistema resuelve el conflicto.

**Diagrama de Secuencia UML (Gestionar Candidatos) - Alto Nivel**

sequenceDiagram
    actor Candidato
    participant Portal as "Portal de Aplicación"
    participant MGC as "Sistema ATS (Módulo Gestión de Candidatos)"
    participant MC as "Sistema ATS (Módulo Comunicación)"
    participant Docs as "Almacenamiento de Documentos"
    actor RecMan as "Reclutador/Manager"

    Candidato->>Portal: 1. Envía Aplicación (datos, CV)
    activate Portal
    Portal->>MGC: 2. EnviarAplicacion()
    activate MGC
    MGC->>Docs: 3. GuardarCV()
    activate Docs
    Docs-->>MGC: 4. CV Guardado OK
    deactivate Docs
    MGC->>MGC: 5. Crear/Actualizar Perfil Candidato
    MGC->>MC: 6. EnviarEmailConfirmacion()
    activate MC
    MC-->>MGC: 7. Email Enviado OK
    deactivate MC
    MGC-->>Portal: 8. Confirmación Recepción
    deactivate MGC
    Portal-->>Candidato: 9. Mostrar Confirmación
    deactivate Portal

    RecMan->>MGC: 10. Solicitar Lista de Candidatos
    activate MGC
    MGC-->>RecMan: 11. Mostrar Lista
    RecMan->>MGC: 12. Seleccionar Candidato X / Actualizar Estado / Añadir Notas
    MGC->>MGC: 13. Actualizar Perfil y Estado
    alt Flujo Automático (ej. Rechazo) (A1)
        MGC->>MC: 14a. EnviarEmailRechazo()
        activate MC
        MC-->>MGC: 15a. Email Enviado OK
        deactivate MC
    end
    MGC-->>RecMan: 16. Confirmación Actualización
    deactivate MGC

#### Caso de Uso 3: Analizar Datos de Contratación con IA

**Descripción**

Este caso de uso detalla cómo los Reclutadores y Managers utilizan el módulo de inteligencia artificial del ATS para obtener insights, análisis predictivos y recomendaciones que optimicen el proceso de adquisición de talento. El diagrama de secuencia de alto nivel se centra en la interacción con el Módulo de Analíticas e IA.

**Actores**
- Reclutador/Manager: Los usuarios que solicitan y consumen los análisis.
- Sistema ATS (Módulo Analíticas e IA): El componente del sistema que procesa los datos y aplica la inteligencia artificial.
- Data Lake/Almacén de Datos: La fuente de datos para los análisis de IA.

**Precondiciones**
- Existen datos históricos de contratación suficientes en el sistema.
- El módulo de IA está operativo y entrenado.
- El Reclutador/Manager ha iniciado sesión.

**Flujo de Eventos Principal (Generar Análisis de IA)**
1. El Reclutador/Manager solicita un análisis de datos o insights de IA.
2. Sistema ATS (Módulo Analíticas e IA): Recibe la solicitud.
3. Sistema ATS (Módulo Analíticas e IA): Consulta el Data Lake para obtener los datos necesarios.
4. Data Lake: Proporciona los datos.
5. Sistema ATS (Módulo Analíticas e IA): Procesa los datos y aplica algoritmos de IA para generar análisis, métricas y recomendaciones.
6. Sistema ATS (Módulo Analíticas e IA): Envía los resultados (paneles, informes, texto) al Reclutador/Manager.
7. El Reclutador/Manager visualiza los insights y puede interactuar con ellos (ej. aplicar filtros).
8. Sistema ATS (Módulo Analíticas e IA): Si hay interacción, re-procesa y actualiza los resultados.
9. El Reclutador/Manager visualiza los resultados actualizados.

**Flujos de Eventos Alternativos**
- A1: Solicitud de Reporte Personalizado: El Reclutador/Manager solicita un reporte específico, y el Módulo de Analíticas e IA lo genera y lo envía.
- A2: Identificación de Sesgos: El Reclutador/Manager activa la función de detección de sesgos, y el Módulo de Analíticas e IA proporciona un informe detallado con sugerencias para mitigarlos.

**Postcondiciones**
- El Reclutador/Manager ha obtenido insights valiosos sobre el rendimiento de la contratación.
- Las decisiones futuras pueden basarse en análisis de datos más sólidos y recomendaciones de IA.

**Excepciones**
- E1: Datos Insuficientes: Si no hay suficientes datos para un análisis, el sistema notifica al usuario.
- E2: Fallo del Proceso de IA: Un error en el procesamiento de IA impide generar el análisis, y el sistema notifica al usuario.

**Diagrama de Secuencia UML (Analizar Datos de Contratación con IA) - Alto Nivel**

sequenceDiagram
    actor RecMan as "Reclutador/Manager"
    participant MAIA as "Sistema ATS (Módulo Analíticas e IA)"
    participant DataLake as "Data Lake/Almacén"

    RecMan->>MAIA: 1. Solicitar Análisis/Insights de IA
    activate MAIA
    MAIA->>DataLake: 2. Consultar Datos Históricos
    activate DataLake
    DataLake-->>MAIA: 3. Retornar Datos
    deactivate DataLake
    MAIA->>MAIA: 4. Procesar Datos y Aplicar Algoritmos IA
    MAIA-->>RecMan: 5. Mostrar Resultados (Panel/Recomendaciones)
    deactivate MAIA

    opt Interacción (ej. Aplicar Filtros) (Paso 7 y 8)
        RecMan->>MAIA: 6. Interactuar con Panel (Filtrar, etc.)
        activate MAIA
        MAIA->>DataLake: 7. Re-consultar Datos (si aplica)
        activate DataLake
        DataLake-->>MAIA: 8. Retornar Datos
        deactivate DataLake
        MAIA->>MAIA: 9. Re-procesar y Actualizar Insights
        MAIA-->>RecMan: 10. Actualizar Resultados Mostrados
        deactivate MAIA
    end
    alt Solicitud de Reporte Personalizado (A1)
        RecMan->>MAIA: 6a. Solicitar Reporte Personalizado (parámetros)
        activate MAIA
        MAIA->>DataLake: 7a. Consultar Datos para Reporte
        activate DataLake
        DataLake-->>MAIA: 8a. Retornar Datos
        deactivate DataLake
        MAIA->>MAIA: 9a. Generar Reporte (ej. PDF/CSV)
        MAIA-->>RecMan: 10a. Enviar Reporte
        deactivate MAIA
    end
    alt Fallo Proceso de IA (E2)
        MAIA--xRecMan: Notificación de error en análisis de IA
    end

### Modelo de datos que cubra entidades, atributos (nombre y tipo) y relaciones

#### Modelo de Datos del Sistema ATS de LTI

Este modelo de datos representa la estructura subyacente de la información dentro del Applicant Tracking System (ATS) de LTI, definiendo las entidades clave, sus atributos y las relaciones que existen entre ellas.

**Entidades y Atributos Principales**

A continuación, se describen las entidades principales con sus atributos clave y tipos de datos:

1. **Usuario**
   - Representa a cualquier persona que puede acceder y operar dentro del sistema, con diferentes roles y permisos.
   - **Atributos:**
     - id_usuario: UUID (Clave Primaria)
     - nombre: string
     - apellido: string
     - email: string (Único)
     - password_hash: string
     - rol: string (ej. 'Reclutador', 'Manager', 'Administrador')
     - fecha_creacion: datetime
     - ultima_conexion: datetime
     - activo: boolean

2. **Reclutador (Extensión de Usuario)**
   - Representa a los usuarios con rol de reclutador. Para simplificar, podríamos considerar que la tabla Usuario ya cubre los roles. Si se necesitara información específica solo para reclutadores que no aplica a otros usuarios, se crearía una tabla separada con una relación 1:1 con Usuario. Por ahora, la tabla Usuario es suficiente con el atributo rol.

3. **Manager (Extensión de Usuario)**
   - Similar al reclutador, un manager de contratación es un Usuario con el rol 'Manager'.

4. **Oferta_Empleo**
   - Representa una vacante o puesto de trabajo que una empresa desea cubrir.
   - **Atributos:**
     - id_oferta: UUID (Clave Primaria)
     - titulo_puesto: string
     - descripcion: text
     - requisitos: text
     - rango_salarial_min: decimal
     - rango_salarial_max: decimal
     - ubicacion: string
     - tipo_contrato: string (ej. 'Full-time', 'Part-time', 'Contrato')
     - departamento: string
     - estado_oferta: string (ej. 'Borrador', 'Abierta', 'Cerrada', 'Archivada')
     - fecha_publicacion: date
     - fecha_cierre: date (nullable)
     - id_reclutador_creador: UUID (Clave Foránea a Usuario.id_usuario)

5. **Candidato**
   - Representa a una persona que ha aplicado a una o más ofertas de empleo.
   - **Atributos:**
     - id_candidato: UUID (Clave Primaria)
     - nombre: string
     - apellido: string
     - email: string (Único)
     - telefono: string (nullable)
     - linkedin_url: string (nullable)
     - experiencia_total_anios: integer (nullable)
     - resumen_perfil: text (generado por IA, nullable)
     - fecha_registro: datetime
     - ultima_actualizacion: datetime

6. **Archivo_Candidato**
   - Almacena los documentos subidos por los candidatos, como CVs, cartas de presentación, etc.
   - **Atributos:**
     - id_archivo: UUID (Clave Primaria)
     - id_candidato: UUID (Clave Foránea a Candidato.id_candidato)
     - nombre_archivo: string
     - tipo_archivo: string (ej. 'PDF', 'DOCX')
     - url_almacenamiento: string (URL al blob storage)
     - fecha_subida: datetime

7. **Aplicacion**
   - Representa la relación entre un Candidato y una Oferta de Empleo, y el estado de su proceso.
   - **Atributos:**
     - id_aplicacion: UUID (Clave Primaria)
     - id_candidato: UUID (Clave Foránea a Candidato.id_candidato)
     - id_oferta: UUID (Clave Foránea a Oferta_Empleo.id_oferta)
     - fecha_aplicacion: datetime
     - estado_aplicacion: string (ej. 'Recibido', 'Revisado', 'Preseleccionado', 'Entrevista', 'Oferta', 'Contratado', 'Rechazado')
     - ultima_actualizacion_estado: datetime

8. **Entrevista**
   - Representa una sesión de entrevista programada para un candidato en el contexto de una aplicación.
   - **Atributos:**
     - id_entrevista: UUID (Clave Primaria)
     - id_aplicacion: UUID (Clave Foránea a Aplicacion.id_aplicacion)
     - tipo_entrevista: string (ej. 'Telefónica', 'Virtual', 'Presencial', 'Técnica', 'HR')
     - fecha_hora: datetime
     - duracion_minutos: integer
     - url_reunion: string (para entrevistas virtuales, nullable)
     - estado_entrevista: string (ej. 'Programada', 'Completada', 'Cancelada')
     - feedback_general: text (nullable)
     - calificacion_final: integer (1-5, nullable)

9. **Entrevistador_Entrevista**
   - Tabla de unión para manejar múltiples entrevistadores por entrevista.
   - **Atributos:**
     - id_entrevistador_entrevista: UUID (Clave Primaria)
     - id_entrevista: UUID (Clave Foránea a Entrevista.id_entrevista)
     - id_usuario: UUID (Clave Foránea a Usuario.id_usuario - puede ser Reclutador o Manager)
     - rol_entrevistador: string (ej. 'Panelista', 'Lead')
     - feedback_individual: text (nullable)
     - calificacion_individual: integer (1-5, nullable)

10. **Prueba_Online**
    - Representa una prueba o evaluación online asignada a un candidato.
    - **Atributos:**
      - id_prueba: UUID (Clave Primaria)
      - id_aplicacion: UUID (Clave Foránea a Aplicacion.id_aplicacion)
      - nombre_prueba: string
      - url_prueba: string
      - fecha_asignacion: datetime
      - fecha_limite: datetime (nullable)
      - estado_prueba: string (ej. 'Asignada', 'Completada', 'Calificada')
      - puntuacion: decimal (nullable)
      - feedback_prueba: text (nullable)

11. **Comentario_Feedback**
    - Permite a Reclutadores y Managers añadir comentarios y feedback a los perfiles de candidatos o aplicaciones.
    - **Atributos:**
      - id_comentario: UUID (Clave Primaria)
      - id_aplicacion: UUID (Clave Foránea a Aplicacion.id_aplicacion)
      - id_usuario_comentario: UUID (Clave Foránea a Usuario.id_usuario)
      - fecha_comentario: datetime
      - texto_comentario: text

**Relaciones entre Entidades**

- Usuario (1) --- (N) Oferta_Empleo: Un Usuario (Reclutador) puede crear muchas Ofertas de Empleo. (Oferta_Empleo.id_reclutador_creador referencia a Usuario.id_usuario).
- Candidato (1) --- (N) Archivo_Candidato: Un Candidato puede subir múltiples Archivos. (Archivo_Candidato.id_candidato referencia a Candidato.id_candidato).
- Candidato (1) --- (N) Aplicacion: Un Candidato puede tener múltiples Aplicaciones (a diferentes ofertas). (Aplicacion.id_candidato referencia a Candidato.id_candidato).
- Oferta_Empleo (1) --- (N) Aplicacion: Una Oferta de Empleo puede recibir muchas Aplicaciones. (Aplicacion.id_oferta referencia a Oferta_Empleo.id_oferta).
- Aplicacion (1) --- (N) Entrevista: Una Aplicación puede llevar a múltiples Entrevistas. (Entrevista.id_aplicacion referencia a Aplicacion.id_aplicacion).
- Aplicacion (1) --- (N) Prueba_Online: Una Aplicación puede requerir múltiples Pruebas Online. (Prueba_Online.id_aplicacion referencia a Aplicacion.id_aplicacion).
- Aplicacion (1) --- (N) Comentario_Feedback: Una Aplicación puede tener muchos Comentarios/Feedback. (Comentario_Feedback.id_aplicacion referencia a Aplicacion.id_aplicacion).
- Entrevista (1) --- (N) Entrevistador_Entrevista: Una Entrevista puede tener múltiples Entrevistadores asociados. (Entrevistador_Entrevista.id_entrevista referencia a Entrevista.id_entrevista).
- Usuario (1) --- (N) Entrevistador_Entrevista: Un Usuario (Reclutador/Manager) puede participar en múltiples Entrevistas como entrevistador. (Entrevistador_Entrevista.id_usuario referencia a Usuario.id_usuario).
- Usuario (1) --- (N) Comentario_Feedback: Un Usuario puede dejar muchos Comentarios/Feedback. (Comentario_Feedback.id_usuario_comentario referencia a Usuario.id_usuario).

**Diagrama de Entidad-Relación (ERD) en Mermaid**

erDiagram
    USUARIO {
        UUID id_usuario
        string nombre
        string apellido
        string email "UK"
        string password_hash
        string rol "Reclutador, Manager, Admin"
        datetime fecha_creacion
        datetime ultima_conexion
        boolean activo
    }

    OFERTA_EMPLEO {
        UUID id_oferta
        string titulo_puesto
        text descripcion
        text requisitos
        decimal rango_salarial_min
        decimal rango_salarial_max
        string ubicacion
        string tipo_contrato
        string departamento
        string estado_oferta "Borrador, Abierta, Cerrada, Archivada"
        date fecha_publicacion
        date fecha_cierre "nullable"
        UUID id_reclutador_creador
    }

    CANDIDATO {
        UUID id_candidato
        string nombre
        string apellido
        string email "UK"
        string telefono "nullable"
        string linkedin_url "nullable"
        integer experiencia_total_anios "nullable"
        text resumen_perfil "nullable, Generado por IA"
        datetime fecha_registro
        datetime ultima_actualizacion
    }

    ARCHIVO_CANDIDATO {
        UUID id_archivo
        UUID id_candidato
        string nombre_archivo
        string tipo_archivo "PDF, DOCX"
        string url_almacenamiento
        datetime fecha_subida
    }

    APLICACION {
        UUID id_aplicacion
        UUID id_candidato
        UUID id_oferta
        datetime fecha_aplicacion
        string estado_aplicacion "Recibido, Revisado, Preseleccionado, Entrevista, Oferta, Contratado, Rechazado"
        datetime ultima_actualizacion_estado
    }

    ENTREVISTA {
        UUID id_entrevista
        UUID id_aplicacion
        string tipo_entrevista "Telefónica, Virtual, Presencial, Técnica, HR"
        datetime fecha_hora
        integer duracion_minutos
        string url_reunion "nullable, para entrevistas virtuales"
        string estado_entrevista "Programada, Completada, Cancelada"
        text feedback_general "nullable"
        integer calificacion_final "nullable, 1-5"
    }

    ENTREVISTADOR_ENTREVISTA {
        UUID id_entrevistador_entrevista
        UUID id_entrevista
        UUID id_usuario
        string rol_entrevistador "Panelista, Lead"
        text feedback_individual "nullable"
        integer calificacion_individual "nullable, 1-5"
    }

    PRUEBA_ONLINE {
        UUID id_prueba
        UUID id_aplicacion
        string nombre_prueba
        string url_prueba
        datetime fecha_asignacion
        datetime fecha_limite "nullable"
        string estado_prueba "Asignada, Completada, Calificada"
        decimal puntuacion "nullable"
        text feedback_prueba "nullable"
    }

    COMENTARIO_FEEDBACK {
        UUID id_comentario
        UUID id_aplicacion
        UUID id_usuario_comentario
        datetime fecha_comentario
        text texto_comentario
    }

    USUARIO ||--o{ OFERTA_EMPLEO : "crea"
    CANDIDATO ||--o{ ARCHIVO_CANDIDATO : "sube"
    CANDIDATO ||--o{ APLICACION : "aplica_a"
    OFERTA_EMPLEO ||--o{ APLICACION : "recibe_aplicaciones_de"
    APLICACION ||--o{ ENTREVISTA : "tiene"
    APLICACION ||--o{ PRUEBA_ONLINE : "tiene"
    APLICACION ||--o{ COMENTARIO_FEEDBACK : "asociado_a"
    ENTREVISTA ||--o{ ENTREVISTADOR_ENTREVISTA : "participa_en"
    USUARIO ||--o{ ENTREVISTADOR_ENTREVISTA : "es_entrevistador_de"
    USUARIO ||--o{ COMENTARIO_FEEDBACK : "deja"



### Diseño del sistema a alto nivel, tanto explicado como diagrama adjunto

#### Arquitectura de Alto Nivel de LTI

La arquitectura de alto nivel de LTI se basa en un diseño distribuido, desacoplado en capas lógicas y componentes funcionales. Los principales pilares arquitectónicos son:

- **Capa de Presentación (Frontend):** Responsable de la interfaz de usuario con la que interactúan Reclutadores, Managers y Candidatos.
- **Capa de Lógica de Negocio (Backend / Microservicios):** Contiene la lógica central del ATS, dividida en módulos funcionales específicos (gestión de ofertas, candidatos, entrevistas, etc.).
- **Capa de Datos:** Almacena y gestiona toda la información del sistema de manera persistente.
- **Módulos de Inteligencia Artificial (IA):** Servicios dedicados que proporcionan capacidades avanzadas de análisis, predicción y automatización.
- **Módulo de Integraciones:** Facilita la comunicación con sistemas externos.
- **Módulo de Comunicación:** Gestiona el envío de notificaciones y correos.

Este diseño permite una alta disponibilidad, tolerancia a fallos y facilita la evolución continua del sistema.

**Componentes Principales y sus Interacciones**

1. **Interfaz de Usuario (UI - Frontend)**
   - **Descripción:** Proporciona la experiencia de usuario para Reclutadores y Managers (web app) y un portal para Candidatos (web pública). Incluirá paneles de control intuitivos, formularios dinámicos y herramientas de colaboración en tiempo real.
   - **Interacciones:** Se comunica con los servicios de la Lógica de Negocio (Backend) a través de APIs RESTful o GraphQL para enviar solicitudes de datos y acciones, y recibir respuestas.
   - **Tecnologías Clave:**
     - React / Angular / Vue.js: Para construir interfaces de usuario interactivas y reactivas.
     - TypeScript: Para un desarrollo frontend más robusto y escalable.
     - HTML5 / CSS3 (con frameworks como Tailwind CSS / Material-UI): Para el diseño y la estilado.

2. **Módulo de Autenticación y Autorización**
   - **Descripción:** Gestiona el registro de usuarios, el inicio de sesión, la gestión de roles y permisos, y la seguridad de acceso a los diferentes componentes del sistema.
   - **Interacciones:** Interactúa con la UI para la autenticación de usuarios, y con otros Módulos de Lógica de Negocio para validar los permisos de las acciones solicitadas. Se conecta a la Base de Datos de Usuarios.
   - **Tecnologías Clave:**
     - OAuth 2.0 / JWT (JSON Web Tokens): Para la gestión de sesiones seguras.
     - Keycloak / Auth0 (SaaS) o soluciones customizadas en backend.

3. **Módulos de Lógica de Negocio (Backend - Microservicios)**
   - Estos módulos son el corazón del sistema, cada uno encapsulando una funcionalidad específica. Se comunican entre sí a través de APIs internas (REST/gRPC) o colas de mensajes.

   **Módulo de Gestión de Ofertas:**
   - **Descripción:** Crea, edita, publica, cierra y archiva ofertas de empleo. Gestiona estados, descripciones y requisitos.
   - **Interacciones:** Recibe solicitudes de la UI, persiste datos en la Base de Datos, y puede interactuar con el Módulo de Integraciones para publicar en bolsas de empleo externas.

   **Módulo de Gestión de Candidatos:**
   - **Descripción:** Administra perfiles de candidatos, historial de aplicaciones, documentos (CVs), notas, estados y pipelines. Incluye lógica para el parsing de CVs.
   - **Interacciones:** Recibe aplicaciones del Portal de Aplicación, interactúa con la Base de Datos y Almacenamiento de Documentos. Se comunica con el Módulo de IA para cribado y el Módulo de Comunicación para notificaciones.

   **Módulo de Programación y Gestión de Entrevistas:**
   - **Descripción:** Permite programar entrevistas, gestionar la disponibilidad de entrevistadores, enviar invitaciones y recopilar feedback post-entrevista.
   - **Interacciones:** Se comunica con el Módulo de Gestión de Candidatos, Módulo de Comunicación y Módulo de Integraciones (para calendarios o videollamadas). Persiste datos en la Base de Datos.

   **Módulo de Pruebas y Evaluaciones:**
   - **Descripción:** Gestiona la asignación y seguimiento de pruebas online y otras evaluaciones.
   - **Interacciones:** Se integra con plataformas de pruebas externas a través del Módulo de Integraciones.

   **Tecnologías Clave (para los Microservicios):**
   - Lenguajes: Python (con FastAPI/Django REST Framework), Java (Spring Boot), Node.js (Express), Go.
   - Contenedores: Docker, Kubernetes para orquestación.
   - API Gateway: Para gestionar el acceso externo a los microservicios.

4. **Base de Datos (DB)**
   - **Descripción:** Almacén de datos relacional para la información estructurada del sistema (usuarios, ofertas, candidatos, aplicaciones, entrevistas, etc.).
   - **Interacciones:** Recibe solicitudes de lectura/escritura de todos los Módulos de Lógica de Negocio y Módulos de IA.
   - **Tecnologías Clave:**
     - PostgreSQL / MySQL: Bases de datos relacionales robustas y escalables.
     - Redis: Para caching y gestión de sesiones.

5. **Almacenamiento de Documentos (Blob Storage)**
   - **Descripción:** Almacena archivos no estructurados como CVs, cartas de presentación, y otros documentos adjuntos a candidatos y ofertas.
   - **Interacciones:** Módulos de Gestión de Candidatos y otros componentes guardan y recuperan documentos.
   - **Tecnologías Clave:**
     - Amazon S3 / Google Cloud Storage / Azure Blob Storage: Servicios de almacenamiento de objetos escalables.

6. **Módulos de Inteligencia Artificial (IA)**
   - **Descripción:** Componentes especializados que ofrecen funcionalidades inteligentes.
   - **Interacciones:** Reciben datos de la Lógica de Negocio y Data Lake, procesan, y devuelven insights/recomendaciones.
   - **Sub-componentes:**
     - Procesamiento de Lenguaje Natural (NLP): Para parsing de CVs, análisis de descripciones de puestos.
     - Machine Learning (ML) para Recomendaciones: Sugerencia de candidatos, análisis predictivo de éxito.
     - Detección de Sesgos: Algoritmos para identificar patrones de sesgo en el proceso.
   - **Tecnologías Clave:**
     - Python (con TensorFlow, PyTorch, scikit-learn): Lenguaje estándar para ML/IA.
     - API REST / gRPC: Para la comunicación con los microservicios de lógica de negocio.
     - Data Lake (ej. S3 con Parquet/Delta Lake): Para almacenar grandes volúmenes de datos brutos y procesados para entrenamiento y análisis de modelos de IA.

7. **Módulo de Integraciones**
   - **Descripción:** Centraliza y gestiona las conexiones con sistemas externos.
   - **Interacciones:** Actúa como un proxy para que los módulos internos se comuniquen con terceros.
   - **Ejemplos de Integraciones:**
     - Bolsas de empleo (LinkedIn, Indeed)
     - Sistemas de gestión de RRHH (HRIS)
     - Plataformas de videollamadas (Zoom, Google Meet, Microsoft Teams)
     - Sistemas de gestión de pruebas (HackerRank, Codility)
     - Sistemas de calendario (Google Calendar, Outlook Calendar)
   - **Tecnologías Clave:**
     - Webhooks / APIs REST de terceros.
     - Servicio de colas de mensajes (ej. RabbitMQ, Apache Kafka): Para comunicación asíncrona y resistente.

8. **Módulo de Comunicación**
   - **Descripción:** Gestiona el envío de emails, SMS y notificaciones push.
   - **Interacciones:** Recibe solicitudes de otros módulos para enviar comunicaciones a candidatos o usuarios internos.
   - **Tecnologías Clave:**
     - Servicios de Email (SendGrid, Mailgun).
     - Servicios de SMS (Twilio).

**Diagrama de Arquitectura de Alto Nivel (Mermaid)**

graph TD
    subgraph Usuarios
        A[Reclutador]
        B[Manager]
        C[Candidato]
    end

    subgraph "Capa de Presentación (Frontend)"
        UI_Web[Interfaz de Usuario Web]
        Portal_Candidato[Portal Público de Candidatos]
    end

    subgraph "Capa de Lógica de Negocio (Backend)"
        subgraph "Microservicios Principales"
            MS_Auth[Módulo de Autenticación y Autorización]
            MS_Ofertas[Módulo de Gestión de Ofertas]
            MS_Candidatos[Módulo de Gestión de Candidatos]
            MS_Entrevistas[Módulo de Programación y Gestión de Entrevistas]
            MS_Pruebas[Módulo de Pruebas y Evaluaciones]
        end
        MS_Integraciones[Módulo de Integraciones]
        MS_Comunicacion[Módulo de Comunicación]
        MS_IA[Módulos de Inteligencia Artificial]
    end

    subgraph "Capa de Datos"
        DB[Base de Datos Relacional]
        DocStore["Almacenamiento de Documentos (Blob Storage)"]
        DataLake["Data Lake / Almacén de Datos (para IA)"]
    end

    subgraph "Sistemas Externos"
        Bolsas_Empleo["Bolsas de Empleo / RRSS"]
        HRIS[Sistemas HRIS de Clientes]
        Plataformas_Video[Plataformas de Videollamadas]
        Proveedores_Pruebas[Proveedores de Pruebas Online]
        Servicios_Email_SMS["Servicios Email/SMS"]
    end

    %% Flujos de interacción


### Diagrama C4 que llegue en profundidad a uno de los componentes del sistema, el que prefieras

#### Diseño C4 del Módulo de Asistencia de IA

**Componente Seleccionado:** Módulos de Inteligencia Artificial (IA)

El Módulo de Asistencia de IA es crucial para las funcionalidades avanzadas de LTI, proporcionando capacidades de cribado inteligente, recomendación de candidatos y detección de sesgos. Este diagrama C4 de Componentes (Nivel 3) detalla su estructura interna y las interacciones entre sus sub-componentes.

**Responsabilidades del Módulo de Asistencia de IA**

- **Ingesta y Preprocesamiento de Datos:** Recibir datos brutos de perfiles de candidatos, ofertas de empleo y resultados de procesos históricos.
- **Análisis de CV y Extracción de Entidades:** Parsear CVs y extraer información clave (habilidades, experiencia, educación).
- **Modelado y Entrenamiento de ML:** Desarrollar y entrenar modelos de Machine Learning para diversas tareas (scoring de candidatos, recomendación).
- **Generación de Recomendaciones:** Sugerir candidatos idóneos para ofertas y viceversa.
- **Análisis Predictivo:** Prever el éxito de contratación o el tiempo de llenado de vacantes.
- **Detección y Mitigación de Sesgos:** Identificar posibles sesgos en los datos y procesos de selección.
- **Exposición de API:** Ofrecer endpoints para que otros servicios del ATS consuman sus funcionalidades de IA.

**Diagrama C4 de Componentes (Nivel 3): Módulo de Asistencia de IA**

Este diagrama se enfoca en los componentes internos del "Módulo de Asistencia de IA", cómo interactúan entre sí y con sus dependencias directas fuera de este módulo.

C4Component
    title Diagrama de Componentes C4: Módulo de Asistencia de IA

    %% Contenedores externos con los que interactúa el módulo.
    Container(ATS_Backend, "Sistema ATS Backend", "Microservicios de LTI", "Lógica de negocio principal, gestión de ofertas y candidatos.")
    Container(DataLake, "Data Lake", "Amazon S3, Google Cloud Storage", "Almacén centralizado de datos brutos y procesados para IA.")

    %% El Módulo de IA se define como un límite que contiene sus propios componentes.
    Container_Boundary(AI_Module, "Módulo de Asistencia de IA") {

        Component(Data_Ingestion_Service, "Servicio de Ingesta de Datos", "Python (FastAPI)", "Recibe y valida datos de candidatos y ofertas desde el ATS.")
        Component(CV_Parser, "Parser de CVs (NLP)", "Python (spaCy)", "Extrae entidades y habilidades clave de los currículums.")
        Component(ML_Model_Service, "Servicio de Modelos de ML", "Python (TensorFlow)", "Aloja y ejecuta modelos para scoring, recomendación y predicción.")
        Component(Bias_Detection_Service, "Servicio de Detección de Sesgos", "Python (Fairlearn)", "Analiza datos y decisiones para identificar posibles sesgos.")
        Component(Feature_Store, "Feature Store", "Redis / S3", "Almacena características preprocesadas y listas para usar en los modelos.")

    }

    %% ---- Relaciones ----
    %% El flujo principal de datos y solicitudes.

    Rel(ATS_Backend, Data_Ingestion_Service, "1. Envía datos de candidatos/ofertas", "API REST")
    Rel(Data_Ingestion_Service, DataLake, "2. Almacena datos brutos")
    Rel(Data_Ingestion_Service, CV_Parser, "3. Envía CVs para análisis", "Mensajería asíncrona")
    Rel(CV_Parser, Feature_Store, "4. Guarda las habilidades extraídas")

    Rel(ATS_Backend, ML_Model_Service, "5. Solicita 'scoring' o recomendación", "API REST")
    Rel(ML_Model_Service, Feature_Store, "6. Obtiene características del candidato")
    Rel(ML_Model_Service, DataLake, "7. Lee datos históricos para inferencia")

    Rel(ATS_Backend, Bias_Detection_Service, "8. Solicita análisis de sesgo", "API REST")
    Rel(Bias_Detection_Service, DataLake, "9. Lee datos del proceso de selección")
